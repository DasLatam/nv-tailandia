<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Maestro Tailandia 2026</title>
    <link rel="icon" href="https://fav.farm/‚úàÔ∏è" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root { --primary: #d35400; --bg: #2c3e50; }
        body { margin: 0; display: flex; height: 100vh; font-family: 'Segoe UI', sans-serif; overflow: hidden; background: var(--bg); }
        #sidebar { width: 380px; background: white; border-right: 1px solid #ccc; display: flex; flex-direction: column; z-index: 1001; }
        #sidebar-header { padding: 15px; background: var(--primary); color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        #places-list { flex: 1; overflow-y: auto; padding: 10px; background: #ecf0f1; }
        .place-card { background: white; margin-bottom: 12px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; transition: 0.3s; border-left: 5px solid var(--primary); }
        .place-card:hover { transform: scale(1.02); box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        .place-card img { width: 100%; height: 140px; object-fit: cover; }
        .place-info { padding: 12px; }
        .place-info h4 { margin: 0; color: #2c3e50; font-size: 15px; }
        .place-info small { color: var(--primary); font-weight: bold; font-size: 11px; text-transform: uppercase; }
        #map { flex: 1; }
        .custom-icon { font-size: 24px; text-align: center; line-height: 1; }
        @media (max-width: 768px) { body { flex-direction: column; } #sidebar { width: 100%; height: 40%; } #map { height: 60%; } }
    </style>
</head>
<body>

<div id="sidebar">
    <div id="sidebar-header">
        <h3 style="margin:0">‚úàÔ∏è Gu√≠a Tailandia 2026</h3>
        <p id="counter" style="margin:5px 0 0; font-size: 13px; font-weight: bold;">Mostrando 0 puntos en esta zona</p>
    </div>
    <div id="places-list"></div>
</div>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const map = L.map('map').setView([13.75, 100.5], 6);

    // CAPAS: Sat√©lite + Calles e Informaci√≥n H√≠brida + Trenes
    const satelite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}').addTo(map);
    const hibrido = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-hybrid/{z}/{x}/{y}{r}.png', { opacity: 0.8 }).addTo(map);
    const trenes = L.tileLayer('https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png', { maxZoom: 19, opacity: 0.6 }).addTo(map);

    const iconMap = {
        "Hospedaje": "üè®", "Templo": "‚õ©Ô∏è", "Gastronom√≠a": "üçú", "Vida Nocturna": "üç∏",
        "Experiencia": "üéüÔ∏è", "Naturaleza": "üèùÔ∏è", "Tecnolog√≠a": "üì±", "Compras": "üõçÔ∏è", "Sitio Hist√≥rico": "üóø"
    };

    const puntos = [
        // ETAPA 1: BANGKOK
        { pos: [13.7345, 100.5601], cat: "Hospedaje", day: "19-24 Feb", name: "Column Bangkok Hotel", desc: "Base en Asok.", img: "https://images.trvl-media.com/lodging/3000000/2320000/2311800/2311756/74889c16.jpg" },
        { pos: [13.7500, 100.4913], cat: "Templo", day: "19-Feb", name: "Gran Palacio y Wat Phra Kaew", desc: "Buda de Esmeralda.", img: "https://dynamic-media.tacdn.com/media/photo-o/2e/c9/78/0f/caption.jpg" },
        { pos: [13.7465, 100.4933], cat: "Templo", day: "19-Feb", name: "Wat Pho", desc: "Buda Reclinado.", img: "https://images.ctfassets.net/dsbipkqphva2/6XGoWzfCukMVShkTiAjEJ8/6417dd19b503075a2c0846b83a217160/wat-pho-bangkok-guide-lead-min.jpg" },
        { pos: [13.7437, 100.4889], cat: "Templo", day: "19-Feb", name: "Wat Arun", desc: "Templo del Amanecer.", img: "https://static.wixstatic.com/media/2cc94a_07e55de318fe41538e17cb9de596cb45~mv2.jpg" },
        { pos: [13.7527, 100.5048], cat: "Gastronom√≠a", day: "19-Feb", name: "Thipsamai Pad Thai", desc: "Pad Thai famoso.", img: "" },
        { pos: [13.7377, 100.5137], cat: "Templo", day: "19-Feb", name: "Wat Traimit", desc: "Buda de Oro macizo.", img: "" },
        { pos: [14.3587, 100.5651], cat: "Sitio Hist√≥rico", day: "20-Feb", name: "Ayutthaya", desc: "Ruinas hist√≥ricas.", img: "https://www.turismotailandes.com/wp-content/uploads/2015/05/Ayutthaya-Tailandia.jpg" },
        { pos: [13.7588, 100.4974], cat: "Vida Nocturna", day: "20-Feb", name: "Khao San Road", desc: "Zona bohemia.", img: "https://static.independent.co.uk/s3fs-public/thumbnails/image/2019/04/11/17/istock-1024107154.jpg" },
        { pos: [13.7999, 100.5505], cat: "Compras", day: "21-Feb", name: "Mercado Chatuchak", desc: "Mercado gigante.", img: "https://tripaim.com/blog/wp-content/uploads/2021/04/Mercados-de-Bangkok.jpg" },
        { pos: [13.4259, 99.9550], cat: "Compras", day: "21-Feb", name: "Mercado Amphawa", desc: "Luci√©rnagas.", img: "https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/07/a0/88/b0.jpg" },
        { pos: [13.7126, 100.5362], cat: "Experiencia", day: "22-Feb", name: "House of Taste Cooking", desc: "Clase de cocina.", img: "https://www.houseoftastecooking.com/wp-content/uploads/2025/07/House-of-Taste-Thai-Cooking-School-Team-Building-scaled.jpg" },
        { pos: [13.7266, 100.5110], cat: "Compras", day: "22-Feb", name: "IconSiam", desc: "Shopping de lujo.", img: "" },
        { pos: [13.7313, 100.5417], cat: "Naturaleza", day: "22-Feb", name: "Parque Lumpini", desc: "Ver lagartos varanos.", img: "" },
        { pos: [13.7226, 100.5819], cat: "Vida Nocturna", day: "22-Feb", name: "Tichuca Rooftop", desc: "Bar de luces LED.", img: "https://www.therooftopguide.com/rooftop-bars-in-bangkok/Bilder/ticucha-rooftop-bar-600-1.jpg" },
        { pos: [13.7479, 100.5385], cat: "Vida Nocturna", day: "22-Feb", name: "Red Sky Rooftop", desc: "Vistas 360.", img: "https://static.bangkokpost.com/media/content/20140522/631127.jpg" },
        { pos: [13.7348, 100.2155], cat: "Templo", day: "23-Feb", name: "Wat Samphran", desc: "Templo del Drag√≥n.", img: "" },
        { pos: [14.5936, 100.3793], cat: "Templo", day: "23-Feb", name: "Wat Muang", desc: "Buda m√°s grande.", img: "" },

        // ETAPA 2: CHIANG MAI
        { pos: [18.7877, 98.9931], cat: "Hospedaje", day: "24-28 Feb", name: "Vieng Thapae Resort", desc: "Base en Chiang Mai.", img: "" },
        { pos: [18.7869, 98.9866], cat: "Templo", day: "24-Feb", name: "Wat Chedi Luang", desc: "Chedi hist√≥rico.", img: "https://images.squarespace-cdn.com/content/v1/5438e2c6e4b0b18459a8ca06/1593080023687-2WNKQ64LB63VEV4UMVZ4/GTJ-2020-0625-39.jpg" },
        { pos: [18.7885, 98.9824], cat: "Templo", day: "24-Feb", name: "Wat Phra Singh", desc: "Templo principal.", img: "" },
        { pos: [18.7958, 98.9826], cat: "Templo", day: "24-Feb", name: "Wat Lok Moli", desc: "Templo de ladrillo.", img: "" },
        { pos: [18.5910, 98.4870], cat: "Naturaleza", day: "25-Feb", name: "Doi Inthanon", desc: "Punto m√°s alto.", img: "https://img1.oastatic.com/img2/77143442/834x417r/variant.jpg" },
        { pos: [18.5527, 98.4801], cat: "Templo", day: "25-Feb", name: "Pagodas Reales", desc: "Jardines del Rey.", img: "" },
        { pos: [20.1997, 99.8166], cat: "Naturaleza", day: "25-Feb", name: "Cultivos de T√©", desc: "Plantaciones verdes.", img: "" },
        { pos: [19.1666, 98.8333], cat: "Experiencia", day: "26-Feb", name: "Santuario Elefantes", desc: "D√≠a √©tico.", img: "https://media.tacdn.com/media/attractions-splice-spp-674x446/06/ef/16/64.jpg" },
        { pos: [18.7852, 99.0003], cat: "Gastronom√≠a", day: "26-Feb", name: "Night Bazaar", desc: "Artesan√≠as y cena.", img: "" },
        { pos: [18.7915, 98.9912], cat: "Vida Nocturna", day: "26-Feb", name: "Zoe in Yellow", desc: "Fiesta nocturna.", img: "" },
        { pos: [19.8242, 99.7631], cat: "Templo", day: "27-Feb", name: "Templo Blanco", desc: "Wat Rong Khun.", img: "https://www.destinochiangmai-es.com/wp-content/uploads/2022/09/soleil-sur-le-temple-blanc.jpg" },
        { pos: [19.9231, 99.8407], cat: "Templo", day: "27-Feb", name: "Templo Azul", desc: "Wat Rong Suea Ten.", img: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/16/8f/c1/32/innenbereich.jpg" },
        { pos: [19.9920, 99.8604], cat: "Sitio Hist√≥rico", day: "27-Feb", name: "Casa Negra", desc: "Museo Baandam.", img: "https://www.destinochiangmai-es.com/wp-content/uploads/2024/04/museo-baan-dam.jpg" },
        { pos: [18.9103, 98.9324], cat: "Naturaleza", day: "28-Feb", name: "Granja Orqu√≠deas", desc: "Especies ex√≥ticas.", img: "" },

        // ETAPA 3: PHUKET
        { pos: [7.8839, 98.3905], cat: "Sitio Hist√≥rico", day: "28-Feb", name: "Phuket Old Town", desc: "Casco antiguo.", img: "https://cdn-ilaahih.nitrocdn.com/eNIJKrVrLmGQXTjIClKuJlbXtyfBFxHI/assets/images/optimized/rev-0a32d0b/www.theprivateworld.com/wp-content/uploads/2022/09/Phuket-Old-Town-Featured-Image.jpg" },
        { pos: [7.9620, 98.2833], cat: "Experiencia", day: "28-Feb", name: "Carnival Magic", desc: "Show de luces.", img: "" },
        { pos: [8.0175, 98.8404], cat: "Naturaleza", day: "01-Mar", name: "4 Islas Krabi", desc: "Poda, Chicken, Tup.", img: "" },
        { pos: [7.7407, 98.7784], cat: "Naturaleza", day: "02-Mar", name: "Islas Phi Phi", desc: "Maya Bay.", img: "https://media-cdn.tripadvisor.com/media/attractions-splice-spp-674x446/06/74/bd/77.jpg" },

        // ETAPA 4: SAMUI/KRABI
        { pos: [9.5707, 100.0604], cat: "Templo", day: "03-Mar", name: "Big Buddha", desc: "Estatua gigante.", img: "https://www.placesofjuma.com/wp-content/uploads/2023/10/Big-Buddha-Koh-Samui-3-scaled-761x507.jpg" },
        { pos: [9.5714, 100.0669], cat: "Templo", day: "03-Mar", name: "Wat Plai Laem", desc: "18 brazos.", img: "https://cdn.sanity.io/images/nxpteyfv/goguides/3589791410dd2104bc6a9a61606797d3e49bcf2c-1600x1066.jpg" },
        { pos: [8.0269, 98.8286], cat: "Naturaleza", day: "04-Mar", name: "Monkey Trail", desc: "Sendero con monos.", img: "" },
        { pos: [8.0063, 98.8378], cat: "Naturaleza", day: "04-Mar", name: "Railay Beach", desc: "Playa Railay.", img: "https://101lugaresincreibles.com/wp-content/uploads/2016/03/Railay-beach-tailandia-e1457107979409.jpg" },
        { pos: [8.0105, 98.8415], cat: "Experiencia", day: "04-Mar", name: "Railay Viewpoint", desc: "Vistas Krabi.", img: "https://www.journeyera.com/wp-content/uploads/2016/10/AO-NANG-TO-RAILAY-BEACH-KRABI-1199.jpg" },
        { pos: [8.1226, 99.2789], cat: "Naturaleza", day: "04-Mar", name: "Emerald Pool", desc: "Piscina natural.", img: "" },
        { pos: [8.1274, 98.9252], cat: "Templo", day: "04-Mar", name: "Tiger Cave Temple", desc: "1.260 escalones.", img: "" },
        { pos: [10.0956, 99.8404], cat: "Naturaleza", day: "05-Mar", name: "Koh Tao", desc: "Snorkel.", img: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/03/67/74/b7/koh-nang-yuan.jpg" },
        { pos: [9.6192, 99.6738], cat: "Naturaleza", day: "06-Mar", name: "Ang Thong", desc: "Parque Marino.", img: "https://fotografias.lasexta.com/clipping/cmsimages02/2021/09/22/09B064EF-11ED-4278-A758-3F5A1D05D877/97.jpg" },
        { pos: [9.4755, 100.0658], cat: "Naturaleza", day: "07-Mar", name: "Crystal Bay", desc: "Playa relax.", img: "" },

        // ETAPA 5: CIERRE
        { pos: [13.7462, 100.5291], cat: "Tecnolog√≠a", day: "08-Mar", name: "MBK Center", desc: "Tecno souvenirs.", img: "" },
        { pos: [13.7475, 100.5391], cat: "Tecnolog√≠a", day: "09-Mar", name: "Apple Store", desc: "iPhones MacBooks.", img: "" },
        { pos: [13.7483, 100.5404], cat: "Compras", day: "09-Mar", name: "Big C Supercenter", desc: "Snacks y regalos.", img: "" }
    ];

    const markers = [];
    const listContainer = document.getElementById('places-list');
    const counterLabel = document.getElementById('counter');

    puntos.forEach(p => {
        const iconEmoji = iconMap[p.cat] || "üìç";
        const customIcon = L.divIcon({ className: 'custom-icon', html: iconEmoji, iconSize: [30, 30], iconAnchor: [15, 15] });
        const marker = L.marker(p.pos, { icon: customIcon }).addTo(map);
        
        marker.bindPopup(`
            <div style="width:220px">
                ${p.img ? `<img src="${p.img}" class="popup-img">` : '<div style="background:#ddd;height:100px;text-align:center;line-height:100px;color:#999">Subir Imagen</div>'}
                <div style="padding:10px">
                    <b style="color:var(--primary)">${p.name}</b><br>
                    <i style="font-size:12px">${p.day} | ${p.cat}</i><br>
                    <small>${p.desc}</small>
                </div>
            </div>
        `);
        marker.pdata = p;
        markers.push(marker);
    });

    function updateSidebar() {
        listContainer.innerHTML = '';
        const bounds = map.getBounds();
        let count = 0;

        markers.forEach(m => {
            if (bounds.contains(m.getLatLng())) {
                count++;
                const p = m.pdata;
                const card = document.createElement('div');
                card.className = 'place-card';
                card.innerHTML = `
                    ${p.img ? `<img src="${p.img}">` : '<div style="height:80px;background:#ddd"></div>'}
                    <div class="place-info">
                        <small>${p.day}</small>
                        <h4>${iconMap[p.cat]} ${p.name}</h4>
                        <p>${p.desc}</p>
                    </div>
                `;
                card.onclick = () => { map.panTo(m.getLatLng()); m.openPopup(); };
                listContainer.appendChild(card);
            }
        });
        counterLabel.innerText = `Mostrando ${count} puntos en esta zona`;
    }

    map.on('moveend', updateSidebar);
    updateSidebar();
</script>
</body>
</html>